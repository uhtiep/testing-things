<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Physics Builder</title>
    <style>
        canvas {
            border: 1px solid black;
            background-color: #f0f0f0;
        }
    </style>
</head>
<body>
    <h1>Physics Builder</h1>
    <canvas id="canvas" width="800" height="600"></canvas>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p2.js/0.7.0/p2.min.js"></script>
    <script>
        const canvas = document.getElementById('canvas');
        const context = canvas.getContext('2d');
        const world = new p2.World({
            gravity: [0, 9.82]
        });

        const shapes = [];

        function createShape(x, y, width, height) {
            const boxShape = new p2.Box({ width: width, height: height });
            const body = new p2.Body({
                mass: 1,
                position: [x, y]
            });
            body.addShape(boxShape);
            world.addBody(body);
            shapes.push(body);
        }

        function update() {
            world.step(1 / 60);
            context.clearRect(0, 0, canvas.width, canvas.height);
            shapes.forEach(shape => {
                context.fillRect(shape.position[0] - 25, canvas.height - shape.position[1] - 25, 50, 50);
            });
            requestAnimationFrame(update);
        }

        canvas.addEventListener('click', (event) => {
            const rect = canvas.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = canvas.height - (event.clientY - rect.top);
            createShape(x, y, 50, 50);
        });

        update();
    </script>
</body>
</html>